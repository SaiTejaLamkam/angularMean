<div id="live-chat" class="chat-box">

  <header class="clearfix chat-header">

      <a class="chat-close">x</a>

      <h4 class="user-name" *ngIf="userData.name">{{userData.name}}</h4>
      <h4 class="user-name" *ngIf="!userData.name">{{userData.userName}}</h4>

      <span class="chat-message-counter">3</span>

  </header>

  <div class="chat">
      <div class="search-users">
            <!-- <ng-select [items]="manufacurersList$ | async" bindLabel="name" [hideSelected]="true" [typeahead]="manufacurersListinput$"
            [(ngModel)]="selectedManufacturer" (change)="onSelectUser()">
          </ng-select> -->
          <!-- <ng-select [items]="manufacurersList$ | async" [(ngModel)]="selectedManufacturer" bindLabel="name" [hideSelected]="true" [typeahead]="manufacurersListinput$" >
            <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title" [ngOptionHighlight]="search">{{item.name}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{item.email}}</h6>
                        <div>
                            <a class="card-link" (click)="onSelectUser()">Send Request</a>
                        </div>
                    </div>
                </div>
            </ng-template>
        </ng-select> -->

        <form class="example-form" [formGroup]='usersForm'>
          <!-- <mat-form-field class="example-full-width">
            <input matInput placeholder="Choose a user" [matAutocomplete]="auto" formControlName='userInput'>
          </mat-form-field> -->
          <input placeholder="Choose a user" [matAutocomplete]="auto" formControlName='userInput' type="text" class="ais-SearchBox-input" placeholder="Search a product">
          <!-- <span>Your choice is: {{usersForm.get('userInput').value | json}}</span> -->

          <mat-autocomplete (optionSelected)="onSelectUser($event)" #auto="matAutocomplete" [displayWith]="displayFn">
            <mat-option *ngIf="isLoading" class="is-loading"><mat-spinner diameter="50"></mat-spinner></mat-option>
            <ng-container *ngIf="!isLoading">
              <mat-option *ngFor="let user of filteredUsers" [value]="user">
                <span>{{ user.name }}</span>
                <small> | {{user.email}}</small>
                <mat-divider></mat-divider>
              </mat-option>
            </ng-container>
          </mat-autocomplete>
        </form>

      </div>

      <div class="chat-history">

          <div class="chat-message clearfix">

              <!-- <img src="http://lorempixum.com/32/32/people" alt="" width="32" height="32"> -->

              <div class="chat-message-content clearfix">

                  <span class="chat-time">13:35</span>

                  <h5>John Doe</h5>

                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error, explicabo quasi ratione odio dolorum harum.</p>

              </div> <!-- end chat-message-content -->

          </div> <!-- end chat-message -->

          <hr>

          <div class="chat-message clearfix">

              <img src="http://gravatar.com/avatar/2c0ad52fc5943b78d6abe069cc08f320?s=32" alt="" width="32" height="32">

              <div class="chat-message-content clearfix">

                  <span class="chat-time">13:37</span>

                  <h5>Marco Biedermann</h5>

                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Blanditiis, nulla accusamus magni vel debitis numquam qui tempora rem voluptatem delectus!</p>

              </div> <!-- end chat-message-content -->

          </div> <!-- end chat-message -->

          <hr>

          <div class="chat-message clearfix">

              <!-- <img src="http://lorempixum.com/32/32/people" alt="" width="32" height="32"> -->

              <div class="chat-message-content clearfix">

                  <span class="chat-time">13:38</span>

                  <h5>John Doe</h5>

                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing.</p>

              </div> <!-- end chat-message-content -->

          </div> <!-- end chat-message -->

          <hr>

      </div> <!-- end chat-history -->

      <p class="chat-feedback">Your partner is typing…</p>

      <form action="#" method="post">

          <fieldset>

              <input type="text" placeholder="Type your message…" autofocus>
              <input type="hidden">

          </fieldset>

      </form>

  </div> <!-- end chat -->

</div> <!-- end live-chat -->
